
srcdir LucenePlusPlus;

import ../common-settings.bkl;

includedirs += ../../boost;

library LucenePlusPlus {

  vs2013.projectfile = ../LucenePlusPlus.vcxproj;

  includedirs += .. include src/core/include;
  defines += LPP_BUILDING_LIB;

  sources {
    src/core/analysis/Analyzer.cpp
    src/core/analysis/ASCIIFoldingFilter.cpp
    src/core/analysis/BaseCharFilter.cpp
    src/core/analysis/CachingTokenFilter.cpp
    src/core/analysis/CharArraySet.cpp
    src/core/analysis/CharFilter.cpp
    src/core/analysis/CharReader.cpp
    src/core/analysis/CharStream.cpp
    src/core/analysis/CharTokenizer.cpp
    src/core/analysis/ISOLatin1AccentFilter.cpp
    src/core/analysis/KeywordAnalyzer.cpp
    src/core/analysis/KeywordTokenizer.cpp
    src/core/analysis/LengthFilter.cpp
    src/core/analysis/LetterTokenizer.cpp
    src/core/analysis/LowerCaseFilter.cpp
    src/core/analysis/LowerCaseTokenizer.cpp
    src/core/analysis/MappingCharFilter.cpp
    src/core/analysis/NormalizeCharMap.cpp
    src/core/analysis/NumericTokenStream.cpp
    src/core/analysis/PerFieldAnalyzerWrapper.cpp
    src/core/analysis/PorterStemFilter.cpp
    src/core/analysis/PorterStemmer.cpp
    src/core/analysis/SimpleAnalyzer.cpp
    src/core/analysis/standard/StandardAnalyzer.cpp
    src/core/analysis/standard/StandardFilter.cpp
    src/core/analysis/standard/StandardTokenizer.cpp
    src/core/analysis/standard/StandardTokenizerImpl.cpp
    src/core/analysis/StopAnalyzer.cpp
    src/core/analysis/StopFilter.cpp
    src/core/analysis/TeeSinkTokenFilter.cpp
    src/core/analysis/Token.cpp
    src/core/analysis/tokenattributes/FlagsAttribute.cpp
    src/core/analysis/tokenattributes/OffsetAttribute.cpp
    src/core/analysis/tokenattributes/PayloadAttribute.cpp
    src/core/analysis/tokenattributes/PositionIncrementAttribute.cpp
    src/core/analysis/tokenattributes/TermAttribute.cpp
    src/core/analysis/tokenattributes/TypeAttribute.cpp
    src/core/analysis/TokenFilter.cpp
    src/core/analysis/Tokenizer.cpp
    src/core/analysis/TokenStream.cpp
    src/core/analysis/WhitespaceAnalyzer.cpp
    src/core/analysis/WhitespaceTokenizer.cpp
    src/core/analysis/WordlistLoader.cpp
    src/core/document/AbstractField.cpp
    src/core/document/CompressionTools.cpp
    src/core/document/DateField.cpp
    src/core/document/DateTools.cpp
    src/core/document/Document.cpp
    src/core/document/Field.cpp
    src/core/document/Fieldable.cpp
    src/core/document/FieldSelector.cpp
    src/core/document/LoadFirstFieldSelector.cpp
    src/core/document/MapFieldSelector.cpp
    src/core/document/NumberTools.cpp
    src/core/document/NumericField.cpp
    src/core/document/SetBasedFieldSelector.cpp
    src/core/index/AbstractAllTermDocs.cpp
    src/core/index/AllTermDocs.cpp
    src/core/index/BufferedDeletes.cpp
    src/core/index/ByteBlockPool.cpp
    src/core/index/ByteSliceReader.cpp
    src/core/index/ByteSliceWriter.cpp
    src/core/index/CharBlockPool.cpp
    src/core/index/CheckIndex.cpp
    src/core/index/CompoundFileReader.cpp
    src/core/index/CompoundFileWriter.cpp
    src/core/index/ConcurrentMergeScheduler.cpp
    src/core/index/DefaultSkipListReader.cpp
    src/core/index/DefaultSkipListWriter.cpp
    src/core/index/DirectoryReader.cpp
    src/core/index/DocConsumer.cpp
    src/core/index/DocConsumerPerThread.cpp
    src/core/index/DocFieldConsumer.cpp
    src/core/index/DocFieldConsumerPerField.cpp
    src/core/index/DocFieldConsumerPerThread.cpp
    src/core/index/DocFieldConsumers.cpp
    src/core/index/DocFieldConsumersPerField.cpp
    src/core/index/DocFieldConsumersPerThread.cpp
    src/core/index/DocFieldProcessor.cpp
    src/core/index/DocFieldProcessorPerField.cpp
    src/core/index/DocFieldProcessorPerThread.cpp
    src/core/index/DocInverter.cpp
    src/core/index/DocInverterPerField.cpp
    src/core/index/DocInverterPerThread.cpp
    src/core/index/DocumentsWriter.cpp
    src/core/index/DocumentsWriterThreadState.cpp
    src/core/index/FieldInfo.cpp
    src/core/index/FieldInfos.cpp
    src/core/index/FieldInvertState.cpp
    src/core/index/FieldSortedTermVectorMapper.cpp
    src/core/index/FieldsReader.cpp
    src/core/index/FieldsWriter.cpp
    src/core/index/FilterIndexReader.cpp
    src/core/index/FormatPostingsDocsConsumer.cpp
    src/core/index/FormatPostingsDocsWriter.cpp
    src/core/index/FormatPostingsFieldsConsumer.cpp
    src/core/index/FormatPostingsFieldsWriter.cpp
    src/core/index/FormatPostingsPositionsConsumer.cpp
    src/core/index/FormatPostingsPositionsWriter.cpp
    src/core/index/FormatPostingsTermsConsumer.cpp
    src/core/index/FormatPostingsTermsWriter.cpp
    src/core/index/FreqProxFieldMergeState.cpp
    src/core/index/FreqProxTermsWriter.cpp
    src/core/index/FreqProxTermsWriterPerField.cpp
    src/core/index/FreqProxTermsWriterPerThread.cpp
    src/core/index/IndexCommit.cpp
    src/core/index/IndexDeletionPolicy.cpp
    src/core/index/IndexFileDeleter.cpp
    src/core/index/IndexFileNameFilter.cpp
    src/core/index/IndexFileNames.cpp
    src/core/index/IndexReader.cpp
    src/core/index/IndexWriter.cpp
    src/core/index/IntBlockPool.cpp
    src/core/index/InvertedDocConsumer.cpp
    src/core/index/InvertedDocConsumerPerField.cpp
    src/core/index/InvertedDocConsumerPerThread.cpp
    src/core/index/InvertedDocEndConsumer.cpp
    src/core/index/InvertedDocEndConsumerPerField.cpp
    src/core/index/InvertedDocEndConsumerPerThread.cpp
    src/core/index/KeepOnlyLastCommitDeletionPolicy.cpp
    src/core/index/LogByteSizeMergePolicy.cpp
    src/core/index/LogDocMergePolicy.cpp
    src/core/index/LogMergePolicy.cpp
    src/core/index/MergeDocIDRemapper.cpp
    src/core/index/MergePolicy.cpp
    src/core/index/MergeScheduler.cpp
    src/core/index/MultiLevelSkipListReader.cpp
    src/core/index/MultiLevelSkipListWriter.cpp
    src/core/index/MultipleTermPositions.cpp
    src/core/index/MultiReader.cpp
    src/core/index/NormsWriter.cpp
    src/core/index/NormsWriterPerField.cpp
    src/core/index/NormsWriterPerThread.cpp
    src/core/index/ParallelReader.cpp
    src/core/index/Payload.cpp
    src/core/index/PositionBasedTermVectorMapper.cpp
    src/core/index/RawPostingList.cpp
    src/core/index/ReadOnlyDirectoryReader.cpp
    src/core/index/ReadOnlySegmentReader.cpp
    src/core/index/ReusableStringReader.cpp
    src/core/index/SegmentInfo.cpp
    src/core/index/SegmentInfoCollection.cpp
    src/core/index/SegmentInfos.cpp
    src/core/index/SegmentMergeInfo.cpp
    src/core/index/SegmentMergeQueue.cpp
    src/core/index/SegmentMerger.cpp
    src/core/index/SegmentReader.cpp
    src/core/index/SegmentTermDocs.cpp
    src/core/index/SegmentTermEnum.cpp
    src/core/index/SegmentTermPositions.cpp
    src/core/index/SegmentTermPositionVector.cpp
    src/core/index/SegmentTermVector.cpp
    src/core/index/SegmentWriteState.cpp
    src/core/index/SerialMergeScheduler.cpp
    src/core/index/SnapshotDeletionPolicy.cpp
    src/core/index/SortedTermVectorMapper.cpp
    src/core/index/StoredFieldsWriter.cpp
    src/core/index/StoredFieldsWriterPerThread.cpp
    src/core/index/Term.cpp
    src/core/index/TermBuffer.cpp
    src/core/index/TermDocs.cpp
    src/core/index/TermEnum.cpp
    src/core/index/TermFreqVector.cpp
    src/core/index/TermInfo.cpp
    src/core/index/TermInfosReader.cpp
    src/core/index/TermInfosWriter.cpp
    src/core/index/TermPositions.cpp
    src/core/index/TermPositionVector.cpp
    src/core/index/TermsHash.cpp
    src/core/index/TermsHashConsumer.cpp
    src/core/index/TermsHashConsumerPerField.cpp
    src/core/index/TermsHashConsumerPerThread.cpp
    src/core/index/TermsHashPerField.cpp
    src/core/index/TermsHashPerThread.cpp
    src/core/index/TermVectorEntry.cpp
    src/core/index/TermVectorEntryFreqSortedComparator.cpp
    src/core/index/TermVectorMapper.cpp
    src/core/index/TermVectorOffsetInfo.cpp
    src/core/index/TermVectorsReader.cpp
    src/core/index/TermVectorsTermsWriter.cpp
    src/core/index/TermVectorsTermsWriterPerField.cpp
    src/core/index/TermVectorsTermsWriterPerThread.cpp
    src/core/index/TermVectorsWriter.cpp
    src/core/queryparser/FastCharStream.cpp
    src/core/queryparser/MultiFieldQueryParser.cpp
    src/core/queryparser/QueryParseError.cpp
    src/core/queryparser/QueryParser.cpp
    src/core/queryparser/QueryParserCharStream.cpp
    src/core/queryparser/QueryParserConstants.cpp
    src/core/queryparser/QueryParserToken.cpp
    src/core/queryparser/QueryParserTokenManager.cpp
    src/core/search/BooleanClause.cpp
    src/core/search/BooleanQuery.cpp
    src/core/search/BooleanScorer.cpp
    src/core/search/BooleanScorer2.cpp
    src/core/search/CachingSpanFilter.cpp
    src/core/search/CachingWrapperFilter.cpp
    src/core/search/Collector.cpp
    src/core/search/ComplexExplanation.cpp
    src/core/search/ConjunctionScorer.cpp
    src/core/search/ConstantScoreQuery.cpp
    src/core/search/DefaultSimilarity.cpp
    src/core/search/DisjunctionMaxQuery.cpp
    src/core/search/DisjunctionMaxScorer.cpp
    src/core/search/DisjunctionSumScorer.cpp
    src/core/search/DocIdSet.cpp
    src/core/search/DocIdSetIterator.cpp
    src/core/search/ExactPhraseScorer.cpp
    src/core/search/Explanation.cpp
    src/core/search/FieldCache.cpp
    src/core/search/FieldCacheImpl.cpp
    src/core/search/FieldCacheRangeFilter.cpp
    src/core/search/FieldCacheTermsFilter.cpp
    src/core/search/FieldComparator.cpp
    src/core/search/FieldComparatorSource.cpp
    src/core/search/FieldDoc.cpp
    src/core/search/FieldDocSortedHitQueue.cpp
    src/core/search/FieldValueHitQueue.cpp
    src/core/search/Filter.cpp
    src/core/search/FilteredDocIdSet.cpp
    src/core/search/FilteredDocIdSetIterator.cpp
    src/core/search/FilteredQuery.cpp
    src/core/search/FilteredTermEnum.cpp
    src/core/search/FilterManager.cpp
    src/core/search/function/ByteFieldSource.cpp
    src/core/search/function/CustomScoreProvider.cpp
    src/core/search/function/CustomScoreQuery.cpp
    src/core/search/function/DocValues.cpp
    src/core/search/function/DoubleFieldSource.cpp
    src/core/search/function/FieldCacheSource.cpp
    src/core/search/function/FieldScoreQuery.cpp
    src/core/search/function/IntFieldSource.cpp
    src/core/search/function/OrdFieldSource.cpp
    src/core/search/function/ReverseOrdFieldSource.cpp
    src/core/search/function/ValueSource.cpp
    src/core/search/function/ValueSourceQuery.cpp
    src/core/search/FuzzyQuery.cpp
    src/core/search/FuzzyTermEnum.cpp
    src/core/search/HitQueue.cpp
    src/core/search/HitQueueBase.cpp
    src/core/search/IndexSearcher.cpp
    src/core/search/MatchAllDocsQuery.cpp
    src/core/search/MultiPhraseQuery.cpp
    src/core/search/MultiSearcher.cpp
    src/core/search/MultiTermQuery.cpp
    src/core/search/MultiTermQueryWrapperFilter.cpp
    src/core/search/NumericRangeFilter.cpp
    src/core/search/NumericRangeQuery.cpp
    src/core/search/ParallelMultiSearcher.cpp
    src/core/search/payloads/AveragePayloadFunction.cpp
    src/core/search/payloads/MaxPayloadFunction.cpp
    src/core/search/payloads/MinPayloadFunction.cpp
    src/core/search/payloads/PayloadFunction.cpp
    src/core/search/payloads/PayloadNearQuery.cpp
    src/core/search/payloads/PayloadSpanUtil.cpp
    src/core/search/payloads/PayloadTermQuery.cpp
    src/core/search/PhrasePositions.cpp
    src/core/search/PhraseQuery.cpp
    src/core/search/PhraseQueue.cpp
    src/core/search/PhraseScorer.cpp
    src/core/search/PositiveScoresOnlyCollector.cpp
    src/core/search/PrefixFilter.cpp
    src/core/search/PrefixQuery.cpp
    src/core/search/PrefixTermEnum.cpp
    src/core/search/Query.cpp
    src/core/search/QueryTermVector.cpp
    src/core/search/QueryWrapperFilter.cpp
    src/core/search/ReqExclScorer.cpp
    src/core/search/ReqOptSumScorer.cpp
    src/core/search/ScoreCachingWrappingScorer.cpp
    src/core/search/ScoreDoc.cpp
    src/core/search/Scorer.cpp
    src/core/search/Searchable.cpp
    src/core/search/Searcher.cpp
    src/core/search/Similarity.cpp
    src/core/search/SimilarityDelegator.cpp
    src/core/search/SingleTermEnum.cpp
    src/core/search/SloppyPhraseScorer.cpp
    src/core/search/Sort.cpp
    src/core/search/SortField.cpp
    src/core/search/SpanFilter.cpp
    src/core/search/SpanFilterResult.cpp
    src/core/search/SpanQueryFilter.cpp
    src/core/search/spans/FieldMaskingSpanQuery.cpp
    src/core/search/spans/NearSpansOrdered.cpp
    src/core/search/spans/NearSpansUnordered.cpp
    src/core/search/spans/SpanFirstQuery.cpp
    src/core/search/spans/SpanNearQuery.cpp
    src/core/search/spans/SpanNotQuery.cpp
    src/core/search/spans/SpanOrQuery.cpp
    src/core/search/spans/SpanQuery.cpp
    src/core/search/spans/Spans.cpp
    src/core/search/spans/SpanScorer.cpp
    src/core/search/spans/SpanTermQuery.cpp
    src/core/search/spans/SpanWeight.cpp
    src/core/search/spans/TermSpans.cpp
    src/core/search/TermQuery.cpp
    src/core/search/TermRangeFilter.cpp
    src/core/search/TermRangeQuery.cpp
    src/core/search/TermRangeTermEnum.cpp
    src/core/search/TermScorer.cpp
    src/core/search/TimeLimitingCollector.cpp
    src/core/search/TopDocs.cpp
    src/core/search/TopDocsCollector.cpp
    src/core/search/TopFieldCollector.cpp
    src/core/search/TopFieldDocs.cpp
    src/core/search/TopScoreDocCollector.cpp
    src/core/search/Weight.cpp
    src/core/search/WildcardQuery.cpp
    src/core/search/WildcardTermEnum.cpp
    src/core/store/BufferedIndexInput.cpp
    src/core/store/BufferedIndexOutput.cpp
    src/core/store/ChecksumIndexInput.cpp
    src/core/store/ChecksumIndexOutput.cpp
    src/core/store/Directory.cpp
    src/core/store/FileSwitchDirectory.cpp
    src/core/store/FSDirectory.cpp
    src/core/store/FSLockFactory.cpp
    src/core/store/IndexInput.cpp
    src/core/store/IndexOutput.cpp
    src/core/store/Lock.cpp
    src/core/store/LockFactory.cpp
    src/core/store/MMapDirectory.cpp
    src/core/store/NativeFSLockFactory.cpp
    src/core/store/NoLockFactory.cpp
    src/core/store/RAMDirectory.cpp
    src/core/store/RAMFile.cpp
    src/core/store/RAMInputStream.cpp
    src/core/store/RAMOutputStream.cpp
    src/core/store/SimpleFSDirectory.cpp
    src/core/store/SimpleFSLockFactory.cpp
    src/core/store/SingleInstanceLockFactory.cpp
    src/core/util/Attribute.cpp
    src/core/util/AttributeSource.cpp
    src/core/util/Base64.cpp
    src/core/util/BitSet.cpp
    src/core/util/BitUtil.cpp
    src/core/util/BitVector.cpp
    src/core/util/BufferedReader.cpp
    src/core/util/CharFolder.cpp
    src/core/util/Collator.cpp
    src/core/util/Constants.cpp
    src/core/util/CycleCheck.cpp
    src/core/util/DocIdBitSet.cpp
    src/core/util/FieldCacheSanityChecker.cpp
    src/core/util/FileReader.cpp
    src/core/util/FileUtils.cpp
    src/core/util/InfoStream.cpp
    src/core/util/InputStreamReader.cpp
    src/core/util/LuceneAllocator.cpp
    src/core/util/LuceneException.cpp
    src/core/util/LuceneObject.cpp
    src/core/util/LuceneSignal.cpp
    src/core/util/LuceneSync.cpp
    src/core/util/LuceneThread.cpp
    src/core/util/MiscUtils.cpp
    src/core/util/NumericUtils.cpp
    src/core/util/OpenBitSet.cpp
    src/core/util/OpenBitSetDISI.cpp
    src/core/util/OpenBitSetIterator.cpp
    src/core/util/Random.cpp
    src/core/util/Reader.cpp
    src/core/util/ReaderUtil.cpp
    src/core/util/ScorerDocQueue.cpp
    src/core/util/SmallDouble.cpp
    src/core/util/SortedVIntList.cpp
    src/core/util/StringReader.cpp
    src/core/util/StringUtils.cpp
    src/core/util/Synchronize.cpp
    src/core/util/TestPoint.cpp
    src/core/util/ThreadPool.cpp
    src/core/util/unicode/guniprop.cpp
    src/core/util/UnicodeUtils.cpp
    src/core/util/UTF8Stream.cpp
    src/core/util/md5/md5.c
  }

  // Precompiled headers
  if ( $toolset == vs2013 ) {
    sources { src/core/msvc/LuceneInc.cpp }
  }

  vs2013.option.ClCompile.PrecompiledHeader = Use;
  vs2013.option.ClCompile.PrecompiledHeaderFile = LuceneInc.h;
  src/core/msvc/LuceneInc.cpp::vs2013.option.ClCompile.PrecompiledHeader = Create;
  src/core/util/md5/md5.c::vs2013.option.ClCompile.PrecompiledHeader = NotUsing;
}
